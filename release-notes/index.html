<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="generator" content="Bootply" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>StructureMap - Release Notes</title>
        <link href="/content/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/content/prism.css" rel="stylesheet" type="text/css" />
        <link href="/content/theme.css" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
        <link rel="icon" type="image/x-icon" href="/content/images/structuremap-logo.ico">
        <link rel="icon" type="image/png" href="/content/images/structuremap-logo-60x60.png">
        <link rel="apple-touch-icon" type="image/png" href="/content/images/structuremap-logo-60x60.png">
        <link rel="apple-touch-icon" type="image/png" sizes="72x72" href="/content/images/structuremap-logo-72x72.png">
        <link rel="apple-touch-icon" type="image/png" sizes="114x114" href="/content/images/structuremap-logo-114x114.png">
        <link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/content/images/structuremap-logo-144x144.png">

        <!-- CSS code from Bootply.com editor -->
        <link href="/content/affix.css" rel="stylesheet" type="text/css" />
    </head>

    <!-- HTML code from Bootply.com editor -->

    <body  >

<a href="https://github.com/structuremap/structuremap"><img style="z-index: 5000; position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>

        <nav class="navbar navbar-default navbar-fixed-top" role="banner">
          <div class="container">
            <div class="navbar-header">
              <a href="/" class="navbar-brand">StructureMap 4.5.3</a>
            </div>
            <nav class="collapse navbar-collapse" role="navigation">
              <ul class="nav navbar-nav pull-right">
            <li>
              <a href="/quickstart">A Gentle Quickstart</a>
            </li>
                <li>
                  <a href="/documentation">Documentation</a>
                </li>
            <li>
              <a href="https://groups.google.com/forum/#!forum/structuremap-users">Google Group</a>
            </li>
                <li>
<a href="https://gitter.im/structuremap/structuremap?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/structuremap/structuremap" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a>
                </li>
                  <li><a href="/history" title="History">Previous</a></li>
                  <li><a href="/instances" title="Custom Instance Types">Next</a></li>
              </ul>
      <div class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input id="search" type="search" class="form-control" placeholder="Search">
        </div>
      </div>

            </nav>

          </div>
        </nav>

          <div class="container">
              <nav class="navbar-inverse">
                  <ol class="breadcrumb"><li><a href="/">StructureMap</a></li><li class="active">Release Notes</li></ol>
              </nav>
          </div>

        <!--main-->
        <div class="container">
            <div class="row">
              <!--left-->

              <div class="col-md-3" id="leftCol">
                <ul class="nav nav-stacked affix" id="sidebar">
                    <li><h3><img src="/content/images/structuremap-logo-210x210.png" alt="StructureMap 4.5.3" width="210" height="210"></h3></li>
                    <li><h3 class="no-margin">Next</h3><p><a href="/instances">Custom Instance Types</a></p></li>
                    <li><h3 class="no-margin">Previous</h3><a href="/history">History</a></p></li>
                </ul>

              </div><!--/left-->

              <!--right-->
              <div class="col-md-9">
                      <h1>Release Notes <a href="https://github.com/structuremap/structuremap/blob/master/documentation/release-notes.md"  class="text-muted small pull-right fa fa-github" style="margin-top: 10px"> Edit on GitHub</a></h1>

                      <hr />

                      <div id="main-pane">
                          <!--Title: Release Notes-->
<!--Url: release-notes-->
<p>StructureMap is attempting to follow a strict <a href="http://semver.org">SemVer</a> versioning policy.</p>
<h2 id="release-notes-4.3">Release Notes 4.3</h2>
<p>See the <a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A4.3+is%3Aclosed">closed GitHub issues</a> for
a complete list of changes.</p>
<ul>
<li>Converts the codebase to using the new dotnet CLI tools</li>
<li>Targets .Net 4.5, Netstandard 1.3, and Netstandard 1.5</li>
<li>Performance improvement for some <code>IContainer.With()</code> usages</li>
</ul>
<h2 id="release-notes-4.2">Release Notes 4.2</h2>
<ul>
<li>Added the &quot;disposal lock&quot; feature to prevent a Container from being erroneously disposed</li>
</ul>
<h2 id="release-notes-4.1">Release Notes 4.1</h2>
<p>4.1 was mostly a bugfix release, but also included some new public API calls for type scanning discovery from *.exe files.
See the <a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A4.1+is%3Aclosed">closed GitHub issues</a> for details.</p>
<ul>
<li>4.1.2 - Bug fix for <a href="https://github.com/structuremap/structuremap/issues/461">GH-461</a> singleton scoped registrations to a child container</li>
<li>4.1.1 - Bug fix for &quot;AlwaysUnique&quot; lifecycle within enumerable, inline dependencies</li>
</ul>
<h2 id="release-notes-4.0">Release Notes 4.0.*</h2>
<p>4.0.1 was strictly a bug fix release.</p>
<h2 id="release-notes-4.0-1">Release Notes 4.0</h2>
<p>4.0 is a medium sized release that largely builds on the existing 3.0 architecture with significant improvements to conventional
registration via type scanning and several performance improvements as well as some bug fixes.</p>
<p>The highlights:</p>
<ol>
<li>We <strong>believe</strong> that the documentation is finally comprehensive in regards to StructureMap behavior and features</li>
<li>StructureMap 4.0 is cross-compiled to .Net 4.0, .Net 4.0 as/ PCL, and <strong>as CoreCLR compliant</strong> (using the dotnet build profile).</li>
<li>The type scanning model (<code>Registry.Scan()</code>) was completely rebuilt to make the model easier to extend and to
<em>optimize application bootstrapping</em> in systems that heavily rely on StructureMap type scanning. See <a href="/registration/auto-registration-and-conventions">Auto-Registration and Conventions</a> for more information.</li>
<li>New diagnostic method specifically for troubleshooting type scanning problems. See <a href="/diagnostics/type-scanning">Type Scanning Diagnostics</a> for more information.</li>
<li>New concept of a &quot;build time Instance convention&quot; to apply much more powerful policies and conventions against your StructureMap registrations
as a whole. See <a href="/registration/policies">Construction Policies</a> for more information.</li>
<li>Runtime performance improvements</li>
<li>Hardened StructureMap for multi-threaded usage</li>
<li>Performance improvements specifically targeted at usage from within ASP.Net MVC and its particular manner of using IoC tools.</li>
<li>Removed the static <code>ObjectFactory</code> facade over the application <code>Container</code> altogether.</li>
<li>Enhanced lifecycle support for compliance with ASP.Net MVC6. Nested containers track and dispose <em>AlwaysUnique</em> objects, the new <em>ContainerScoped</em>
lifecyle, and an optional mode to make the root or child containers track <em>Transient</em> disposable objects. See <a href="/object-lifecycle">Object Lifecycles</a> and <a href="/the-container/nested-containers">Nested Containers (Per Request/Transaction)</a> for more information.</li>
<li><code>Registry.For&lt;T&gt;().ClearAll()</code> and <code>Registry.For(Type).ClearAll()</code> methods for removing all previous registrations for a type. See
<a href="/registration/clear-or-replace">Replace or Clear Out Previous Registrations</a> for more information.</li>
</ol>
<p>See also <a href="https://github.com/structuremap/structuremap/issues?q=milestone%3A4.0+is%3Aclosed">the complete list of changes and issues</a> for StructureMap 4.0.</p>
<h2 id="section">3.1.*</h2>
<p>Click on any release version to see the list of closed GitHub issues related to any of the 3.1 releases.</p>
<ul>
<li><a href="https://github.com/structuremap/structuremap/pulls?q=is%3Apr+milestone%3A3.1.6+is%3Aclosed">3.1.6</a> -- Optional strong named nugets, bug fixes</li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.1.5+is%3Aclosed">3.1.5</a> -- Fixes for open generics convention resolution, child containers and policies, naming conflicts between setters and ctor arguments</li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.1.4+is%3Aclosed">3.1.4</a> -- performance optimization for resolving objects that are registered directly to a Container</li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.1.3+is%3Aclosed">3.1.3</a> -- named instances registered to child or nested containers</li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.1.2+is%3Aclosed">3.1.2</a> -- reduces thread contention issues on Container.Configure() calls at runtime</li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.1.1+is%3Aclosed">3.1.1</a> -- fixed a potentially significant memory  leak issue</li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.1.0+is%3Aclosed">3.1.0</a> -- new functionality on <code>IContext</code></li>
</ul>
<h2 id="bug-fix-releases">3.0.* Bug Fix Releases</h2>
<p>Click on any release version to see the list of closed GitHub issues related to a bugfix release.</p>
<ul>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.0.5+is%3Aclosed">3.0.5</a></li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.0.4+is%3Aclosed">3.0.4</a></li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.0.3+is%3Aclosed">3.0.3</a></li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.0.2+is%3Aclosed">3.0.2</a></li>
<li><a href="https://github.com/structuremap/structuremap/issues?q=is%3Aissue+milestone%3A3.0.1+is%3Aclosed">3.0.1</a></li>
</ul>
<h2 id="release-notes-3.0">Release Notes 3.0</h2>
<ul>
<li><p>The exception messages provide contextual information about what StructureMap was trying to do when things went wrong.</p>
</li>
<li><p>The nested container implementation is vastly improved, much faster (100X in my testing against a big application), and doesn’t have the massive singleton behavior bug from 2.6.*.</p>
</li>
<li><p>All old <code>[Obsolete]</code> 2.5 registration syntax has been removed, and there’s been a major effort to enforce consistency throughout the registration API’s.</p>
</li>
<li><p>The original StructureMap.dll has been broken up into a couple pieces.  The main assembly will be targeting PCL compliance thanks to the diligent efforts of Frank Quednau, and that means that Xml configuration and anything to do with ASP.Net has been devolved into separate assemblies and eventually into different Nuget packages.  This means that StructureMap will theoretically support WP8 and other versions of .Net for the very first time.  God help me.</p>
</li>
<li><p>The strong naming has been removed.  My thought is to distribute separate Nuget packages with unsigned versions for sane folks and signed versions for enterprise-y folks.</p>
</li>
<li><p>Lifecycle (scope) can be set individually on each Instance (stupid limitation left over from the very early days)
Constructor selection can be specified per Instance.</p>
</li>
<li><p>Improved diagnostics, both at runtime and for the container configuration.</p>
</li>
<li><p>Improved runtime performance, especially for deep object graphs with inline dependencies (i.e., <ProjectLink name="FubuMVC"/> behavior chains).</p>
</li>
<li><p>The interception model has been completely redesigned.</p>
</li>
<li><p>The ancient attribute model for StructureMap configuration has been mostly removed.</p>
</li>
<li><p>The “Profile” model has been much improved.</p>
</li>
<li><p>The Xml configuration has been heavily streamlined.</p>
</li>
<li><p>Internally, the old <code>PipelineGraph</code>, <code>InstanceFactory</code>, <code>ProfileManager</code> architecture is all gone. The new <code>PipelineGraph</code> implementations just wrap one or more <code>PluginGraph</code> objects, so there’s vastly less data structure shuffling gone on internally.</p>
</li>
</ul>
<p><strong>Related links:</strong></p>
<ul>
<li>http://jeremydmiller.com/2014/02/18/structuremap-3-is-gonna-tell-you-whats-wrong-and-where-it-hurts/</li>
<li>http://jeremydmiller.com/2014/01/17/structuremap-3-0-is-very-nearly-done-no-seriously/</li>
<li>http://jeremydmiller.com/2013/02/22/big-update-on-structuremap-3-0-progress/</li>
<li>http://jeremydmiller.com/2013/01/30/lets-try-this-again-structuremap-3-0-in-en-route-as-of-now/</li>
</ul>

                      </div>

                      <hr />

                      <nav>
                        <span>
                            <strong>Previous: </strong><a href="/history">History</a>

                        </span>
                        <span class="pull-right">

                            <strong>Next: </strong><a href="/instances">Custom Instance Types</a>

                        </span>
                      </nav>

              </div><!--/right-->
              </div><!--/row-->
        </div><!--/container-->


    </body>


    <foot>
        <script type='text/javascript' src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type='text/javascript' src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="/content/embed.js"></script>
        <script type="text/javascript" src="/content/prism.js"></script>
        <script type="text/javascript" src="/content/sidebar.js"></script>
        <script type="text/javascript" src="/content/affix.js"></script>

<script>
$('#search').keyup(function(e){
  if(e.keyCode == 13) {
    var search = $('#search').val();

    var url = 'https://www.google.com/#q=site:structuremap.github.io ' + search;
    url = encodeURI(url);

    //alert(url);

    window.location.href = url;

    e.stopPropagation();
    if (e.cancelBubble!=null) e.cancelBubble = true;
    return false;
  }



});

</script>
    </foot>
</html>

